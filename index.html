<!DOCTYPE HTML>
<html manifest="tones.manifest">
<title>Pitch Pipe</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>button,select{width:10em;height:3em}</style>
<center>
<select id=note>
<option value=1>A</option>
<option value=3>B</option>
<option value=4>C</option>
<option value=6>D</option>
<option value=8>E</option>
<option value=9>F</option>
<option value=11>G</option>
</select>
<select id="half">
<option value=0></option>
<option value=-1>Flat</option>
<option value=1>Sharp</option>
</select>
<button id="button" onclick="playNote();">Play</button>
<br><br><br><button onclick="document.getElementById('ref').style.display=document.getElementById('ref').style.display==''?'none':'';">References</button>
<div id="ref" style="display:none">
Sound files from http://www.harmonize.com/metropolis/online_pitch_pipe.htm
</div>
</center>
<script>
var keys=[
'AFlat.mp3',
'ANatural.mp3',
'BFlat.mp3',
'BNatural.mp3',
'CNatural.mp3',
'CSharp.mp3',
'DNatural.mp3',
'EFlat.mp3',
'ENaturalHigh.mp3',
'FNatural.mp3',
'FSharp.mp3',
'GNatural.mp3',
'AFlat.mp3',
];
var a;
var s;
function playNote(){
 var r=Number(document.getElementById('note').value)+Number(document.getElementById('half').value);
 a=new Audio(keys[r]);a.play();
 document.getElementById('button').textContent='Stop';
 document.getElementById('button').onclick=function(){stopNote();};
 s=setTimeout(
  function(){
   stopNote();
  }, 10000);
};
function stopNote(){
 clearTimeout(s);
 a.pause();
 document.getElementById('button').textContent='Play';
 document.getElementById('button').onclick=function(){playNote();};
}
</script>
</html>
